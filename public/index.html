<!doctype html>
<html lang="en" data-ng-app="meetingsApp">
	<head>
		<meta charset="UTF-8">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
		<title>Meeting List</title>
		<link rel="apple-touch-icon-precomposed" href="/assets/img/apple-touch-icon.png">
		<link rel="apple-touch-startup-image" href="/assets/img/startup.png">
		<link rel="apple-touch-startup-image" href="/assets/img/startup-640-1096.png" sizes="640x1096">
		<link rel="stylesheet" href="/assets/css/main.min.css">
	</head>
	<body data-ng-controller="meetingsCtrl">
		<div class="container">
			<div class="navbar navbar-default navbar-fixed-top">
				<form class="navbar-form row">
					<div class="col-xs-6 day">
						<select class="form-control" id="day" ng-model="selected_day" ng-options="day.id as day.value for day in days"></select>
					</div>
					<div class="col-xs-6 region">
						<select class="form-control" id="region" ng-model="selected_region">
							<option value="" selected>Everywhere</option>
							<option ng-repeat="region in regions" value="{{ region.id }}">{{ region.value }}</option>
						</select>
					</div>
				</form>
			</div>
			<ul class="list-group">
				<li class="list-group-item" ng-cloak ng-repeat="meeting in filteredMeetings = (meetings | filter:{day:selected_day, region_id:selected_region} | orderBy:time)">
					<div class="anchor" id="{{ meeting.id }}"></div>
					<a href="http://maps.apple.com/?q={{ meeting.address + ', ' + meeting.city + ', ' + meeting.state | escape }}">
						<h4>{{ format_time(meeting.time) }}</h4>
						<i class="glyphicon glyphicon-map-marker"></i>
					</a>
					<div class="content">
						<h4 class="list-group-item-heading">
							{{ meeting.name }}
							<span ng-show="types = format_types(meeting.types)">{{ types }}</span>
						</h4>
						<address>
							<div ng-hide="{{ meeting.location == meeting.address }}">{{ meeting.location }}</div>
							<div>{{ meeting.address }}</div>
							<div>{{ meeting.region }}</div>
						</address>
					</div>
				</li>
				<li ng-hide="!meetings.length || filteredMeetings.length" class="empty">
					No meetings listed on {{ days[selected_day].value }} in {{ regions[selected_region].value }}.
				</li>
				<li ng-hide="meetings.length" class="loading"></li>
			</ul>
		</div>
		<script src="/assets/js/main.min.js"></script>
		<script>
			addToHomescreen();

		    (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
		    function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
		    e=o.createElement(i);r=o.getElementsByTagName(i)[0];
		    e.src='//www.google-analytics.com/analytics.js';
		    r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
		    ga('create','UA-80350-22');ga('send','pageview');
		</script>
	</body>
</html>